import{_ as c,r,o as d,c as l,a as e,d as t,b as o,w as s,f as i}from"./app.8b6d0242.js";const h={},u=i('<h1 id="project-structure-and-organization-\u{1F4DA}" tabindex="-1"><a class="header-anchor" href="#project-structure-and-organization-\u{1F4DA}" aria-hidden="true">#</a> Project Structure and Organization \u{1F4DA}</h1><h2 id="recommended-scene-complexity" tabindex="-1"><a class="header-anchor" href="#recommended-scene-complexity" aria-hidden="true">#</a> Recommended Scene Complexity</h2><blockquote><p>The scene complexity here is recommended to ensure good performance across a range of web-capable devices and bandwidths.<br> There&#39;s no technical limitation to this beyond the capabilities of your device.</p></blockquote><ul><li>Max. 50 MB export size uncompressed (usually ends up ~10-20 MB compressed)</li><li>Max. 500k vertices (less if you target mobile VR as well)</li><li>Max. 4x 2k lightmaps</li></ul>',4),p=e("h2",{id:"unity-project-structure",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#unity-project-structure","aria-hidden":"true"},"#"),t(" Unity Project Structure")],-1),m={href:"https://learn.unity.com/tutorial/project-organization-2019-3#5f68a346edbc2a002004052b",target:"_blank",rel:"noopener noreferrer"},g=e("code",null,"Assets",-1),f=e("code",null,"Packages",-1),y=e("li",null,[e("code",null,"Assets"),t(" - this is where project specific/exclusive assets live.")],-1),_=e("code",null,"Packages",-1),b={href:"https://docs.unity3d.com/Manual/PackagesList.html",target:"_blank",rel:"noopener noreferrer"},w=e("strong",null,"Builtin-runtime components",-1),j=e("code",null,"Packages/Needle Engine Exporter/Runtime/Components",-1),k={href:"https://docs.unity3d.com/Manual/ProjectView.html",target:"_blank",rel:"noopener noreferrer"},v=e("h3",{id:"npm-definition-files",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#npm-definition-files","aria-hidden":"true"},"#"),t(" NPM Definition files")],-1),x=e("em",null,"modular projects - re-useable code and assets made easy",-1),T={href:"https://twitter.com/marcel_wiessler/status/1536006405605449729",target:"_blank",rel:"noopener noreferrer"},P=e("strong",null,"NPM Definition",-1),N={href:"https://docs.npmjs.com/about-packages-and-modules",target:"_blank",rel:"noopener noreferrer"},M=i('<p>Each NpmDef contains a npm package (written in TypeScript) and is linked to a matching <code>.codegen</code> folder where all the generated components will be put.</p><p><img src="https://user-images.githubusercontent.com/5083203/185805355-0618aa93-a9ca-463a-86b8-e735e8772bda.png" alt="image"></p><h4 id="creating-and-installing-a-npmdef" tabindex="-1"><a class="header-anchor" href="#creating-and-installing-a-npmdef" aria-hidden="true">#</a> Creating and installing a npmdef</h4><p>To greate a <em>NPM Definition</em> right click in the Unity Project browser and select <code>Create/NPM Definition</code>.<br> You can <strong>install a <em>NPM Definition</em> package</strong> to your runtime project by e.g. selecting your <code>Export Info</code> component and adding it to the <code>dependencies</code> list (internally this will just add the underlying npm package to your package.json).</p><p><img src="https://user-images.githubusercontent.com/5083203/170374130-d0e32516-a1d4-4903-97c2-7ec9fa0b17d4.png" alt="image"></p><p>Don&#39;t forget to install the newly added package by e.g. clicking Install on the ExportInfo component and also restart the server if it is already running</p><p>To edit the code inside a <em>NPM Definition</em> package just double click the asset <em>NPM Definition</em> asset in your project browser and it will open the vscode workspace that comes with each npmdef.</p><p><a href="scripting">Read more about scripting</a></p><h3 id="version-control-git" tabindex="-1"><a class="header-anchor" href="#version-control-git" aria-hidden="true">#</a> Version Control / git</h3><p>Generated projects already contain a <code>.gitignore</code> that excludes generated files.<br> The following folders are excluded:</p><ul><li><code>assets</code></li><li><code>generated</code></li><li><code>node_modules</code></li></ul><blockquote><p><strong>Note</strong>: Currently some files use codegen (e.g. registering your npmdef types) and may show up in sourcecontrol even if they have not changed (e.g. <code>register_types.js</code>. This might be improved in the future. Npmdefs also reference <code>@needle-tools/engine</code> via a local path at the moment (these paths are also updated automatically) so they might show up as changed if you use them in multiple projects. This might be removed in the future if/when <code>@needle-tools/engine</code> is resolved/loaded from npm.</p></blockquote><h3 id="temporary-projects" tabindex="-1"><a class="header-anchor" href="#temporary-projects" aria-hidden="true">#</a> Temporary Projects</h3><p>If you&#39;re planning to only add custom files via NpmDefs and not change the project config (e.g. for a quick fullscreen test), you can prefix the project path with <code>Library</code>. The project will be generated in the Unity Project Library and does not need to be added to source control (the Library folder should be excluded from source control). We call these projects <em>temporary projects</em>. They&#39;re great for quickly testing out ideas!</p><h2 id="vite-project-structure" tabindex="-1"><a class="header-anchor" href="#vite-project-structure" aria-hidden="true">#</a> Vite Project Structure</h2>',15),I={href:"https://vitejs.dev/",target:"_blank",rel:"noopener noreferrer"},U=i("<li><code>index.html</code> Your standard index.html - as we know and \u2764\uFE0F it</li><li><code>assets/</code> - The asset folder contains exported assets from Unity. E.g. generated <code>gltf</code> files, audio or video files. It is not recommended to manually add files to <code>assets</code> as it will get cleared on building the distribution for the project.</li><li><code>include/</code> (optional) - If you have custom assets that you need to reference/load add them to the include directory. On build this directory will be copied to the output folder.</li><li><code>src/</code><ul><li><code>main.ts</code> - Here we import the <code>needle-engine</code> package</li><li><code>src/generated/</code> - The generated javascript code. Do not edit manually!</li><li><code>src/scripts/</code> - Your project specific scripts / components</li><li><code>src/styles/</code> - Stylesheets</li></ul></li>",4),D=e("code",null,"vite.config",-1),S={href:"https://vitejs.dev/config/",target:"_blank",rel:"noopener noreferrer"},E=e("hr",null,null,-1),C=e("p",null,"Our exporter can be used with other project structures as well, vite is just our go-to frontend bundling tool because of its speed. Feel free to set up your JavaScript project as you like.",-1);function L(V,z){const a=r("RouterLink"),n=r("ExternalLinkIcon");return d(),l("div",null,[u,e("p",null,[t("You can split up scenes and prefabs into multiple glTF files, and then load those on demand (only when needed). This keeps loading performance fast and file size small. See the "),o(a,{to:"/scripting.html#assetreference-and-addressables"},{default:s(()=>[t("AssetReference section in the Scripting docs")]),_:1}),t(".")]),p,e("p",null,[t("You can organize your assets like in any typical Unity project. If you are not familiar with Unity you may follow "),e("a",m,[t("this guide"),o(n)]),t(" for a first overview. In general Unity assets are organized in two main parts: "),g,t(" and "),f,t(".")]),e("ul",null,[y,e("li",null,[_,t(" - this is where packages installed for this project live. A package can contain any asset type. The main difference is that it can be added to multiple Unity projects. It therefor is a great method to share code or assets. To learn more about packages see "),e("a",b,[t("the Unity documentation about packages"),o(n)]),t(".")])]),e("p",null,[w,t(" added specifically for our runtime engine can be found in "),j,t(" in the "),e("a",k,[t("Unity Project window"),o(n)]),t(".")]),v,e("p",null,[x,t(" (see "),e("a",T,[t("twitter thread"),o(n)]),t(")")]),e("p",null,[P,t(" is what we call "),e("a",N,[t("npm packages"),o(n)]),t(" that you can install to your projects from within Unity, and that are tightly integrated into the Unity Editor. That includes generating C# component stubs automatically. In the future, we're planning to support automatically copying assets to output/distribution folders as well.")]),M,e("p",null,[t("Our main project template uses the superfast "),e("a",I,[t("vite"),o(n)]),t(" bundler. The following shows the structure of the Vite template that we created and ship (altough it is possible to adapt it to your own needs).")]),e("ul",null,[U,e("li",null,[D,t(" - The "),e("a",S,[t("vite config"),o(n)]),t(". Settings for building the distribution and hosting the development server are made here. It is usually not necessary to edit these settings.")])]),e("p",null,[o(a,{to:"/html.html#vue-react-mustache-etc"},{default:s(()=>[t("Learn more in the docs about bundling")]),_:1})]),E,C])}const q=c(h,[["render",L],["__file","project_structure.html.vue"]]);export{q as default};
