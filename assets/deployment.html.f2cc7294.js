import{_ as r,r as a,o as s,c as d,a as e,d as o,b as i,f as n}from"./app.8b6d0242.js";const l="/docs/deployment/deploytoftp.jpg",c="/docs/deployment/deploytoftp2.jpg",p="/docs/deployment/deploytoftp3.jpg",h="/docs/deployment/buildoptions_gzip.jpg",u={},g=n('<h3 id="how-to-build-for-uploading-to-the-web" tabindex="-1"><a class="header-anchor" href="#how-to-build-for-uploading-to-the-web" aria-hidden="true">#</a> How to build for uploading to the web</h3><p>Needle Engine is tightly integrated into the Unity Editor:<br> Open <code>File/Build Settings</code> and select <code>Needle Engine</code> for options!</p><p>To build your web project for deployment you can click <strong>Build</strong> in the Unity Editor Build Settings Window. You can enable the <code>Development Build</code> checkbox to omit compression (see below) which requires toktx to be installed on your machine.</p><blockquote><p><strong>Note</strong>: Nodejs is <strong>only</strong> required during development. The distributed website (using the vite template) is a static page, doesn&#39;t rely on Nodejs and can be put on any regular web server. Nodejs is required if you want to run our minimalistic networking server on the same web server (automatically contained in the Glitch deployment process).</p></blockquote><h4 id="building-a-development-distribution" tabindex="-1"><a class="header-anchor" href="#building-a-development-distribution" aria-hidden="true">#</a> Building a development distribution</h4>',5),m={href:"https://github.khronos.org/KTX-Specification/",target:"_blank",rel:"noopener noreferrer"},b=e("code",null,"ktx2",-1),f={href:"https://google.github.io/draco/",target:"_blank",rel:"noopener noreferrer"},y=e("code",null,"draco",-1),w=e("code",null,"production",-1),_=e("h4",{id:"building-a-production-distribution-optimized-and-compressed",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#building-a-production-distribution-optimized-and-compressed","aria-hidden":"true"},"#"),o(" Building a production distribution (optimized and compressed)")],-1),k={href:"https://github.com/KhronosGroup/KTX-Software/releases",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/KhronosGroup/KTX-Software/releases",target:"_blank",rel:"noopener noreferrer"},x=e("br",null,null,-1),T=e("em",null,"If you're sure that you have installed toktx and it's part of your path but it still can't be found, please restart your machine and try again.",-1),j=e("code",null,"gltf-transform",-1),P={href:"https://www.npmjs.com/package/@needle-tools/gltf-transform-extensions",target:"_blank",rel:"noopener noreferrer"},F=e("h2",{id:"deploy-to-glitch-\u{1F38F}",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#deploy-to-glitch-\u{1F38F}","aria-hidden":"true"},"#"),o(" Deploy to Glitch \u{1F38F}")],-1),D={href:"https://glitch.com/",target:"_blank",rel:"noopener noreferrer"},N=n('<ol><li><p>Add the <code>Deployment</code> component to the GameObject that also has the <code>ExportInfo</code> component.</p></li><li><p>Click the <code>Remix on glitch</code> button on the component</p></li><li><p>Your browser will open the glitch project template</p></li><li><p>Find and click the <code>Remix another</code> button on the glitch website<br><img src="https://user-images.githubusercontent.com/5083203/179834548-acf68b02-95d8-43e5-802a-4e4086e39309.png" alt="image"></p></li><li><p>Glitch will now create a remix of the template. Copy the URL from your browser<br><img src="https://user-images.githubusercontent.com/5083203/179834901-f28852a9-6b06-4d87-8b5b-0384768c92c1.png" alt="image"></p></li><li><p>Open Unity again and paste the URL in the <code>Project Name</code> field of your <code>Deployment</code> component<br><img src="https://user-images.githubusercontent.com/5083203/179835274-033e5e1d-b70d-4b13-95ad-f1e2f159b14e.png" alt="image"></p></li><li><p>On Glitch open the <code>.env</code> file and enter a password in the field <code>Variable Value</code> next to the <strong>DEPLOY_KEY</strong><br><img src="https://user-images.githubusercontent.com/5083203/179835779-ec128288-4db2-42f7-adc0-3c1de6799cef.png" alt="image"></p></li><li><p>Add the same password in Unity<br><img src="https://user-images.githubusercontent.com/5083203/179835883-b524d23f-d887-4ac1-9a59-d5508b6b30c2.png" alt="image"></p></li></ol><h2 id="deploy-to-itch-io" tabindex="-1"><a class="header-anchor" href="#deploy-to-itch-io" aria-hidden="true">#</a> Deploy to itch.io</h2>',2),B={href:"https://itch.io/game/new",target:"_blank",rel:"noopener noreferrer"},E=n('<li><p>Set <code>Kind of project</code> to <code>HTML</code><br><img src="https://user-images.githubusercontent.com/5083203/191211856-8a114480-bae7-4bd1-868e-2e955587acd7.png" alt="image"></p></li><li><p>Add the <code>DeployToItch</code> component to your scene and click the <code>Build</code> button<br><img src="https://user-images.githubusercontent.com/5083203/193812540-1881837e-ed9e-49fc-9658-52e5a914299a.png" alt="image"></p></li><li><p>Wait for the build to finish, it will open a folder with the final zip when it has finished</p></li><li><p>Upload to final zip to itch.io<br><img src="https://user-images.githubusercontent.com/5083203/191212661-f626f0cb-bc8e-4738-ad2c-3982aca65f39.png" alt="20220920-104629_Create_a_new_project_-itch io-_Google_Chrome-needle"></p></li><li><p>Select <code>This file will be played in the browser</code><br><img src="https://user-images.githubusercontent.com/5083203/191212967-00b687f3-bf56-449e-880c-d8daf8a52247.png" alt="image"></p></li><li><p>Save your itch page and view the itch project page.<br> It should now load your Needle Engine project \u{1F60A}</p></li>',6),S=n('<h3 id="optional-settings" tabindex="-1"><a class="header-anchor" href="#optional-settings" aria-hidden="true">#</a> Optional settings</h3><p><img src="https://user-images.githubusercontent.com/5083203/191217263-355d9b72-5431-4170-8eca-bfbbb39ae810.png" alt="image"></p><h3 id="troubleshooting-itch-io" tabindex="-1"><a class="header-anchor" href="#troubleshooting-itch-io" aria-hidden="true">#</a> Troubleshooting itch.io</h3><h4 id="failed-to-find-index-html" tabindex="-1"><a class="header-anchor" href="#failed-to-find-index-html" aria-hidden="true">#</a> Failed to find index.html</h4><p><img src="https://user-images.githubusercontent.com/5083203/191213162-2be63e46-2a65-4d41-a713-98c753ccb600.png" alt="image"><br> If you see this error after uploading your project make sure you do not upload a gzipped index.html. You can disable gzip compression in <code>vite.config.js</code> in your Needle web project folder. Just remove the line with <code>viteCompression({ deleteOriginFile: true })</code>. The build your project again and upload to itch.</p><h2 id="deploy-to-ftp" tabindex="-1"><a class="header-anchor" href="#deploy-to-ftp" aria-hidden="true">#</a> Deploy to FTP</h2><ol><li>Add the <code>DeloyToFTP</code> component\xB9 on a GameObject in your scene (it is good practice to add it to the same GameObject as ExportInfo - but it is not mandatory)</li><li>Assign an FTP server asset and fill out server, username, and password if you have not already \xB2<br><em>This asset contains the access information to your FTP server - you get them when you create a new FTP account at your hosting provider</em></li><li>Click the <kbd>Build &amp; Deploy</kbd> button on the <code>DeployToFTP</code> component to build your project and uploading it to your FTP account</li></ol><p><img src="'+l+'" alt="Deploy to FTP component in Unity"><br><em>\xB9 Deploy to FTP component</em></p><p><img src="'+c+'" alt="Deploy to FTP server asset"><br><em>\xB2 FTP Server asset containing the access information of your FTP user account</em></p><p><img src="'+p+'" alt="Deploy to FTP component in Unity with server asset assigned"><br><em>Deploy To FTP component after server asset is assigned. You can directly deploy to a subfolder on your server using the path field</em></p><h2 id="deploy-to-ftp-manual-upload" tabindex="-1"><a class="header-anchor" href="#deploy-to-ftp-manual-upload" aria-hidden="true">#</a> Deploy to FTP (manual upload)</h2><ol><li>Open <code>File &gt; Build Settings</code>, select <code>Needle Engine</code>, and click on <kbd>Build</kbd></li><li>Wait for the build to complete - the resulting <code>dist</code> folder will open automatically after all build and compression steps have run.</li><li>Copy the files from the <code>dist</code> folder to your FTP storage.</li></ol><p><strong>That&#39;s it!</strong> \u{1F609}</p><p><img src="https://user-images.githubusercontent.com/2693840/187311461-e6afb2d7-5761-48cf-bacb-1c1733bb768b.png" alt="20220830-003602_explorer-needle"></p><blockquote><p><strong>Note</strong>: If the result doesn&#39;t work when uploaded it might be that your web server does not support serving gzipped files. You have two options to fix the problem:<br> Option 1: You can try enabling gzip compression on your server using a htaccess file!<br> Option 2: You can turn gzip compression off in the build settings at File/Build Window and selecting the Needle Engine platform.</p></blockquote><blockquote><p><strong>Note</strong>: If you&#39;re getting errors during compression, please let us know and report a bug! If your project works locally and only fails when doing production builds, you can get unstuck right away by doing a Development Build. For that, simply toggle <code>Development Build</code> on in the Build Settings.</p></blockquote><p><img src="'+h+'" alt="Unity build window showing Needle Engine platform"></p><hr><h2 id="cross-platform-deployment-workflows" tabindex="-1"><a class="header-anchor" href="#cross-platform-deployment-workflows" aria-hidden="true">#</a> Cross-Platform Deployment Workflows</h2><p>It&#39;s possible to create regular Unity projects where you can build both to Needle Engine and to regular Unity platforms such as Desktop or even WebGL. Our &quot;component mapping&quot; approach means that no runtime logic is modified inside Unity - if you want you can regularily use Play Mode and build to other target platforms. In some cases this will mean that you have duplicate code (C# code and matching TypeScript logic). The amount of extra work through this depends on your project.</p><p><strong>Enter Play Mode in Unity</strong><br> In <code>Project Settings &gt; Needle Engine</code>, you can turn off <code>Override Play Mode</code> and <code>Override Build settings</code> to switch between Needle&#39;s build process and Unity&#39;s build process:<br><img src="https://user-images.githubusercontent.com/2693840/187308490-5acb9016-ffff-4113-be62-4de450a42b08.png" alt="image"></p>',21);function U(I,O){const t=a("ExternalLinkIcon");return s(),d("div",null,[g,e("p",null,[o("See notes above on how to access. The main difference to a production build is that it does not perform "),e("a",m,[b,i(t)]),o(" and "),e("a",f,[y,i(t)]),o(" compression. Both can reduce file-size drastically. We generally recommend making builds using the "),w,o(" option.")]),_,e("p",null,[o("To make a production build you need to have "),e("a",k,[o("toktx"),i(t)]),o(" to be installed, which provides texture compression using the KTX2 supercompression format. Please go to the "),e("a",v,[o("toktx Releases Page"),i(t)]),o(" and download and install the latest version (v4.1.0-rc3 at the time of writing, there might be a newer one). You may need to restart Unity after installing it."),x,T]),e("p",null,[o("If you plan on adding your own custom glTF extensions, building for production requires handling those in "),j,o(". See "),e("a",P,[o("@needle-tools/gltf-transform-extensionsw"),i(t)]),o(" for reference.")]),F,e("p",null,[e("a",D,[o("Glitch"),i(t)]),o(" provides a fast and free way for everyone to host small and large websites. We're providing an easy way to remix and deploy to a new Glitch page (based on our starter), and also to run a minimalistic networking server on the same Glitch page if needed.")]),N,e("ol",null,[e("li",null,[e("p",null,[o("Create a new project on "),e("a",B,[o("itch.io"),i(t)])])]),E]),S])}const q=r(u,[["render",U],["__file","deployment.html.vue"]]);export{q as default};
